<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templateARQ.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">Dashboard</ui:define>

    <ui:define name="head">


    </ui:define>

    <ui:define name="content">


        <h:form>
            
        <div class="ui-g ui-fluid">
            <div class="ui-g-12">
            <div class="card card-w-title"> 
                <p:messages id="context" showDetail="true" showSummary="false" autoUpdate="true" closable="true" />
                 <h1 style="font-size:25px">Arquivos Mortos</h1>
                 <br/>
                 <p:commandButton style="width:150px; margin-bottom: 10px;" icon="ui-icon-undo"  value="Menu Principal" action="index" ajax="false" />
            <!-- Início da tabela para vizualização de Documentos -->
            <p:dataTable id="tabela1" var="doc" value="#{arArquivoMortoCadastrarBean.listarDocumento()}" paginatorAlwaysVisible="false"
                        widgetVar="tabelaPesquisa"  paginator="true"  paginatorPosition="bottom" rows="5" emptyMessage="Não há registros!">
                <f:facet name="header">
                    <label style="font-size:140% ">Visualização dos Registros - Arquivos Mortos</label><br/><br/>
                    <p:inputText 
                        id="globalFilter"
                        placeholder="Pesquisar Por: Titulo, Tipo Documento"
                        onkeyup="PF('tabelaPesquisa').filter()" 
                        style="width:400px; height:30px; border-radius: 20px; background-color: #ffffff; color: #000000" />
                </f:facet>

                <p:column headerText="Titulo" style="text-align:center" filterBy="#{doc.titulo}" filterMatchMode="contains">
                    <h:outputText value="#{doc.titulo}" />
                </p:column>

                <p:column headerText="Tipo Documento" style="text-align:center" filterBy="#{doc.fkTipoDocumento.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkTipoDocumento.descricao}" />
                </p:column>
                
                <p:column headerText="Faculdade" style="text-align:center" filterBy="#{doc.fkCadeira.fkCurso.fkFaculdade.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkCadeira.fkCurso.fkFaculdade.descricao}" />
                </p:column>
                
                <p:column headerText="Curso" style="text-align:center" filterBy="#{doc.fkCadeira.fkCurso.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkCadeira.fkCurso.descricao}" />
                </p:column>
                
                <p:column headerText="Cadeira" style="text-align:center" filterBy="#{doc.fkCadeira.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkCadeira.descricao}" />
                </p:column>
                
                <p:column headerText="Docente" style="text-align:center" filterBy="#{doc.fkDocente.nomeCompleto}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkDocente.nomeCompleto}" />
                </p:column>
                
                <p:column headerText="Ano Lectivo" style="text-align:center" filterBy="#{doc.fkAnoLectivo.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkAnoLectivo.descricao}" />
                </p:column>
                
                <p:column headerText="Ano Curricular" style="text-align:center" filterBy="#{doc.fkAnoCurricular.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkAnoCurricular.descricao}" />
                </p:column>
                
                <p:column headerText="Turma" style="text-align:center" filterBy="#{doc.fkTurma.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkTurma.descricao}" />
                </p:column>
                
                <p:column headerText="Periodo" style="text-align:center" filterBy="#{doc.fkPeriodo.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkPeriodo.descricao}" />
                </p:column>
                
                <p:column headerText="Semestre" style="text-align:center" filterBy="#{doc.fkSemestre.descricao}" filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkSemestre.descricao}" />
                </p:column>

                <p:column headerText="Estrutura Fisica 1" style="text-align:center" filterBy="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"  filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"/>
                </p:column>
                
                <p:column headerText="Estrutura Fisica 2" style="text-align:center" filterBy="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"  filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"/>
                </p:column>
                
                <p:column headerText="Estrutura Fisica 3" style="text-align:center" filterBy="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"  filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.fkEstruturaFisica.designacao}"/>
                </p:column>
                
                <p:column headerText="Estrutura Fisica 4" style="text-align:center" filterBy="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.designacao}"  filterMatchMode="contains" >
                    <h:outputText value="#{doc.fkEstruturaLogicaFisica.fkEstruturaFisica.designacao}"/>
                </p:column>

                <p:column headerText="Data Registro" style="text-align:center" >
                    <h:outputText value="#{doc.dataRegistro}" >
                        <f:convertDateTime pattern="dd-MM-yyyy hh:mm:ss" locale="pt-BR"/>
                    </h:outputText>
                </p:column>

                <p:column style="width: 100px;" headerText="Ver" sortBy="">
                    <p:commandButton style="margin-left: 30%"  icon="ui-icon-circle-zoomin" ajax="false" action="#{arArquivoMortoCadastrarBean.fileDownloadView(doc.caminho)}" />
                </p:column>

                <p:column headerText="Eliminar" style="width: 100px;">
                    <p:commandButton style="margin-left:30%;" action="#{arArquivoMortoCadastrarBean.eliminar(doc)}"
                                        update="tabela1" icon="ui-icon-delete">

                        <p:confirm header="Confirmação" message="Desejas Realmente eliminar  #{doc.titulo} ?" icon="ui-icon-warning" />
                    </p:commandButton>

                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" width="350">
                        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="ui-icon-check" />
                        <p:commandButton value="Não" type="button"  styleClass="ui-confirmdialog-no RedButton" icon="ui-icon-close" />
                    </p:confirmDialog>
                </p:column>

            </p:dataTable>
            <!-- Fim da tabela para vizualização de Arquivos -->
        
        </div>
        </div>
        </div>
        
        </h:form>


    </ui:define>


</ui:composition>