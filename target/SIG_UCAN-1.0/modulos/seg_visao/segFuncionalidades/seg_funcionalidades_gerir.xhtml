<ui:composition 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
                template="/template_seg/template.xhtml">

            <ui:define name="content">

                <div
                    style="width: 50%; margin-left: 25%;"
                    >

                    <p:fieldset 
                        id="funcionalidadesFS" 
                        legend="Listagem das Funcionalidades do Sistema" 
                        >

                        <p:tree 
                            selectionMode="single"
                            dynamic="true" 
                            value="#{segFuncionalidadeGerirBean.seqTreeFuncionalidades.root}" 
                            var="node" 
                            animate="true"
                            highlight="false"
                            propagateSelectionUp="false" 
                            propagateSelectionDown="true" 
                            style="width: 100%;"
                            >
                            <p:ajax 
                                event="select" 
                                listener="#{segFuncionalidadeGerirBean.seqTreeFuncionalidades.onNodeSelect}" 
                                onstart="PF('w_dlgLoading').show();" 
                                oncomplete="PF('w_dlgLoading').hide();"
                                update=":form_geral:funcionalidadesFS"
                                />
                            <p:ajax 
                                event="expand" 
                                listener="#{segFuncionalidadeGerirBean.seqTreeFuncionalidades.onNodeExpand}"
                                onstart="PF('w_dlgLoading').show();" 
                                oncomplete="PF('w_dlgLoading').hide();"
                                />
                            <p:ajax 
                                event="collapse" 
                                listener="#{segFuncionalidadeGerirBean.seqTreeFuncionalidades.onNodeCollapse}" 
                                onstart="PF('w_dlgLoading').show();" 
                                oncomplete="PF('w_dlgLoading').hide();"
                                />
                            <p:ajax 
                                event="unselect" 
                                listener="#{segFuncionalidadeGerirBean.seqTreeFuncionalidades.onNodeUnSelect}"
                                onstart="PF('w_dlgLoading').show();" 
                                oncomplete="PF('w_dlgLoading').hide();"
                                />

                            <p:treeNode 
                                expandedIcon="ui-icon ui-icon-folder-open"
                                collapsedIcon="ui-icon ui-icon-folder-collapsed"
                                >
                                <h:outputText value="#{node}"/>
                            </p:treeNode>
                            <p:treeNode type="document" icon="ui-icon ui-icon-document">
                                <h:outputText value="#{node}"/>
                            </p:treeNode>
                            <p:treeNode type="image" icon="ui-icon ui-icon-image">
                                <h:outputText value="#{node}"/>
                            </p:treeNode>
                            <p:treeNode type="video" icon="ui-icon ui-icon-video">
                                <h:outputText value="#{node}"/>
                            </p:treeNode>
                            <p:treeNode type="action" icon="icon-action">
                                <h:outputText value="#{node}"/>
                            </p:treeNode>
                        </p:tree>

                    </p:fieldset>

                </div>

            </ui:define>

 </ui:composition>
